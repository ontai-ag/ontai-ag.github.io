import{u as L,f as P,d as S,b as C,a as A,r,j as e,L as o,o as T}from"./index-BidpMcxo.js";import{I as p}from"./input-DJ--pDVJ.js";import{L as f}from"./label-6ZnNGXKW.js";import{B as j}from"./button-CtVCB_Qy.js";import{C as k}from"./Button-BEpOz6JZ.js";import{C as B}from"./Card-af0s1vFz.js";import{A as D}from"./arrow-left-B-O2ZSX2.js";import{C as W}from"./circle-alert-BUUFt2QY.js";import{E as q}from"./eye-off-CUxrLTiH.js";import{E as z}from"./eye-CIIInUgA.js";import{M as F}from"./mail-tvPIEhlp.js";const Y=()=>{const{t:s}=L(),i=P();S();const{toast:c}=C(),{isAuthenticated:m,getDashboardPath:n}=A(),[d,v]=r.useState(""),[u,N]=r.useState(""),[l,w]=r.useState(!1),[y,h]=r.useState(!1),[x,g]=r.useState(null),I=()=>w(!l);r.useEffect(()=>{if(m){const t=n();console.log("User authenticated, redirecting to:",t);const a=setTimeout(()=>{i(t,{replace:!0})},100);return()=>clearTimeout(a)}},[m,n,i]);const b=async t=>{t.preventDefault(),h(!0),g(null);try{const a=await T.signInWithPassword(d,u);c({title:s("auth.signIn.successTitle"),description:s("auth.signIn.successDescription")});const E=n();i(E,{replace:!0})}catch(a){console.error("Error signing in:",a),g(a.message||s("auth.signIn.genericError")),c({title:s("auth.signIn.failedTitle"),description:a.message||s("auth.signIn.failedDescription"),variant:"destructive"})}finally{h(!1)}};return e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[" ",e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx(o,{to:"/",className:"text-gray-500 hover:text-primary",children:e.jsx(j,{variant:"outline",size:"icon",className:"rounded-full",children:e.jsx(D,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"flex-grow flex justify-center",children:[e.jsx("img",{src:"59e843a5-7fb2-4c2d-adac-cd2ce6413ee1.png",alt:"Logo",className:"h-12 w-auto"})," "]}),e.jsx("div",{className:"w-10"})," "]}),e.jsxs("div",{className:"text-center",children:[" ",e.jsx("h2",{className:"text-3xl font-extrabold text-foreground-900",children:s("auth.signIn.title")}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[s("auth.signIn.or")," ",e.jsx(o,{to:"/sign-up",className:"font-medium text-primary hover:text-primary/80",children:s("auth.signIn.createAccountLink")})]})]}),e.jsxs(B,{className:"p-6",children:[x&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:x})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"email",children:s("auth.signIn.emailLabel")}),e.jsx(p,{id:"email",type:"email",value:d,onChange:t=>v(t.target.value),required:!0,className:"mt-1",placeholder:s("auth.signIn.emailPlaceholder")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(f,{htmlFor:"password",children:s("auth.signIn.passwordLabel")}),e.jsx(o,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:s("auth.signIn.forgotPasswordLink")})]}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(p,{id:"password",type:l?"text":"password",value:u,onChange:t=>N(t.target.value),required:!0,className:"pr-10"}),e.jsx(j,{type:"button",variant:"ghost",size:"icon",className:"absolute inset-y-0 right-0 flex items-center justify-center h-full w-10 text-gray-500 hover:text-primary",onClick:I,children:l?e.jsx(q,{className:"h-5 w-5"}):e.jsx(z,{className:"h-5 w-5"})})]})]}),e.jsx(k,{type:"submit",fullWidth:!0,loading:y,leftIcon:e.jsx(F,{className:"h-4 w-4"}),children:s("auth.signIn.signInWithEmailButton")})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"relative"}),e.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3"})]})]})]})})};export{Y as default};
