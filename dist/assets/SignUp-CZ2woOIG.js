import{c as Ie,r as n,j as t,e as pe,u as Ue,f as Ve,b as $e,L as Ee}from"./index-DwoP-YaE.js";import{I as ge}from"./input-Bwnqc0CH.js";import{L as me}from"./label-D8bUL8F7.js";import{B as Ne}from"./button-CIhx-551.js";import{C as be}from"./Button-DGzhNokY.js";import{C as ze}from"./Card-C5ntAxIF.js";import{D as Pe,a as Re,b as ke,c as qe,d as je}from"./dialog-8I2d7CrF.js";import{A as Je}from"./arrow-left-D52uuBwo.js";import{C as ye}from"./circle-alert-C9ZJ9r1s.js";import"./index-Ylz5FKrW.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Ie("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=Ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var Qe=Object.defineProperty,Xe=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,Me=(e,r,l)=>r in e?Qe(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,et=(e,r)=>{for(var l in r||(r={}))Te.call(r,l)&&Me(e,l,r[l]);if(he)for(var l of he(r))De.call(r,l)&&Me(e,l,r[l]);return e},tt=(e,r)=>Xe(e,Ye(r)),nt=(e,r)=>{var l={};for(var c in e)Te.call(e,c)&&r.indexOf(c)<0&&(l[c]=e[c]);if(e!=null&&he)for(var c of he(e))r.indexOf(c)<0&&De.call(e,c)&&(l[c]=e[c]);return l};function rt(e){let r=setTimeout(e,0),l=setTimeout(e,10),c=setTimeout(e,50);return[r,l,c]}function at(e){let r=n.useRef();return n.useEffect(()=>{r.current=e}),r.current}var st=18,Oe=40,lt=`${Oe}px`,it=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function ot({containerRef:e,inputRef:r,pushPasswordManagerStrategy:l,isFocused:c}){let[C,m]=n.useState(!1),[k,E]=n.useState(!1),[L,$]=n.useState(!1),z=n.useMemo(()=>l==="none"?!1:(l==="increase-width"||l==="experimental-no-flickering")&&C&&k,[C,k,l]),A=n.useCallback(()=>{let f=e.current,S=r.current;if(!f||!S||L||l==="none")return;let p=f,v=p.getBoundingClientRect().left+p.offsetWidth,q=p.getBoundingClientRect().top+p.offsetHeight/2,i=v-st,B=q;document.querySelectorAll(it).length===0&&document.elementFromPoint(i,B)===f||(m(!0),$(!0))},[e,r,L,l]);return n.useEffect(()=>{let f=e.current;if(!f||l==="none")return;function S(){let v=window.innerWidth-f.getBoundingClientRect().right;E(v>=Oe)}S();let p=setInterval(S,1e3);return()=>{clearInterval(p)}},[e,l]),n.useEffect(()=>{let f=c||document.activeElement===r.current;if(l==="none"||!f)return;let S=setTimeout(A,0),p=setTimeout(A,2e3),v=setTimeout(A,5e3),q=setTimeout(()=>{$(!0)},6e3);return()=>{clearTimeout(S),clearTimeout(p),clearTimeout(v),clearTimeout(q)}},[r,c,l,A]),{hasPWMBadge:C,willPushPWMBadge:z,PWM_BADGE_SPACE_WIDTH:lt}}var Le=n.createContext({}),Ae=n.forwardRef((e,r)=>{var l=e,{value:c,onChange:C,maxLength:m,textAlign:k="left",pattern:E,placeholder:L,inputMode:$="numeric",onComplete:z,pushPasswordManagerStrategy:A="increase-width",pasteTransformer:f,containerClassName:S,noScriptCSSFallback:p=ut,render:v,children:q}=l,i=nt(l,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),B,J,ne,ae,Z;let[se,K]=n.useState(typeof i.defaultValue=="string"?i.defaultValue:""),d=c??se,N=at(d),M=n.useCallback(a=>{C==null||C(a),K(a)},[C]),b=n.useMemo(()=>E?typeof E=="string"?new RegExp(E):E:null,[E]),o=n.useRef(null),Q=n.useRef(null),P=n.useRef({value:d,onChange:M,isIOS:typeof window<"u"&&((J=(B=window==null?void 0:window.CSS)==null?void 0:B.supports)==null?void 0:J.call(B,"-webkit-touch-callout","none"))}),F=n.useRef({prev:[(ne=o.current)==null?void 0:ne.selectionStart,(ae=o.current)==null?void 0:ae.selectionEnd,(Z=o.current)==null?void 0:Z.selectionDirection]});n.useImperativeHandle(r,()=>o.current,[]),n.useEffect(()=>{let a=o.current,s=Q.current;if(!a||!s)return;P.current.value!==a.value&&P.current.onChange(a.value),F.current.prev=[a.selectionStart,a.selectionEnd,a.selectionDirection];function h(){if(document.activeElement!==a){ee(null),_(null);return}let u=a.selectionStart,g=a.selectionEnd,de=a.selectionDirection,w=a.maxLength,H=a.value,R=F.current.prev,D=-1,O=-1,G;if(H.length!==0&&u!==null&&g!==null){let _e=u===g,He=u===H.length&&H.length<w;if(_e&&!He){let U=u;if(U===0)D=0,O=1,G="forward";else if(U===w)D=U-1,O=U,G="backward";else if(w>1&&H.length>1){let xe=0;if(R[0]!==null&&R[1]!==null){G=U<R[1]?"backward":"forward";let Ge=R[0]===R[1]&&R[0]<w;G==="backward"&&!Ge&&(xe=-1)}D=xe+U,O=xe+U+1}}D!==-1&&O!==-1&&D!==O&&o.current.setSelectionRange(D,O,G)}let we=D!==-1?D:u,Ce=O!==-1?O:g,We=G??de;ee(we),_(Ce),F.current.prev=[we,Ce,We]}if(document.addEventListener("selectionchange",h,{capture:!0}),h(),document.activeElement===a&&le(!0),!document.getElementById("input-otp-style")){let u=document.createElement("style");if(u.id="input-otp-style",document.head.appendChild(u),u.sheet){let g="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";re(u.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),re(u.sheet,`[data-input-otp]:autofill { ${g} }`),re(u.sheet,`[data-input-otp]:-webkit-autofill { ${g} }`),re(u.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),re(u.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let j=()=>{s&&s.style.setProperty("--root-height",`${a.clientHeight}px`)};j();let y=new ResizeObserver(j);return y.observe(a),()=>{document.removeEventListener("selectionchange",h,{capture:!0}),y.disconnect()}},[]);let[X,fe]=n.useState(!1),[Y,le]=n.useState(!1),[I,ee]=n.useState(null),[W,_]=n.useState(null);n.useEffect(()=>{rt(()=>{var a,s,h,j;(a=o.current)==null||a.dispatchEvent(new Event("input"));let y=(s=o.current)==null?void 0:s.selectionStart,u=(h=o.current)==null?void 0:h.selectionEnd,g=(j=o.current)==null?void 0:j.selectionDirection;y!==null&&u!==null&&(ee(y),_(u),F.current.prev=[y,u,g])})},[d,Y]),n.useEffect(()=>{N!==void 0&&d!==N&&N.length<m&&d.length===m&&(z==null||z(d))},[m,z,N,d]);let T=ot({containerRef:Q,inputRef:o,pushPasswordManagerStrategy:A,isFocused:Y}),ie=n.useCallback(a=>{let s=a.currentTarget.value.slice(0,m);if(s.length>0&&b&&!b.test(s)){a.preventDefault();return}typeof N=="string"&&s.length<N.length&&document.dispatchEvent(new Event("selectionchange")),M(s)},[m,M,N,b]),oe=n.useCallback(()=>{var a;if(o.current){let s=Math.min(o.current.value.length,m-1),h=o.current.value.length;(a=o.current)==null||a.setSelectionRange(s,h),ee(s),_(h)}le(!0)},[m]),ue=n.useCallback(a=>{var s,h;let j=o.current;if(!f&&(!P.current.isIOS||!a.clipboardData||!j))return;let y=a.clipboardData.getData("text/plain"),u=f?f(y):y;a.preventDefault();let g=(s=o.current)==null?void 0:s.selectionStart,de=(h=o.current)==null?void 0:h.selectionEnd,w=(g!==de?d.slice(0,g)+u+d.slice(de):d.slice(0,g)+u+d.slice(g)).slice(0,m);if(w.length>0&&b&&!b.test(w))return;j.value=w,M(w);let H=Math.min(w.length,m-1),R=w.length;j.setSelectionRange(H,R),ee(H),_(R)},[m,M,b,d]),x=n.useMemo(()=>({position:"relative",cursor:i.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[i.disabled]),ve=n.useMemo(()=>({position:"absolute",inset:0,width:T.willPushPWMBadge?`calc(100% + ${T.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:T.willPushPWMBadge?`inset(0 ${T.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:k,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[T.PWM_BADGE_SPACE_WIDTH,T.willPushPWMBadge,k]),ce=n.useMemo(()=>n.createElement("input",tt(et({autoComplete:i.autoComplete||"one-time-code"},i),{"data-input-otp":!0,"data-input-otp-placeholder-shown":d.length===0||void 0,"data-input-otp-mss":I,"data-input-otp-mse":W,inputMode:$,pattern:b==null?void 0:b.source,"aria-placeholder":L,style:ve,maxLength:m,value:d,ref:o,onPaste:a=>{var s;ue(a),(s=i.onPaste)==null||s.call(i,a)},onChange:ie,onMouseOver:a=>{var s;fe(!0),(s=i.onMouseOver)==null||s.call(i,a)},onMouseLeave:a=>{var s;fe(!1),(s=i.onMouseLeave)==null||s.call(i,a)},onFocus:a=>{var s;oe(),(s=i.onFocus)==null||s.call(i,a)},onBlur:a=>{var s;le(!1),(s=i.onBlur)==null||s.call(i,a)}})),[ie,oe,ue,$,ve,m,W,I,i,b==null?void 0:b.source,d]),te=n.useMemo(()=>({slots:Array.from({length:m}).map((a,s)=>{var h;let j=Y&&I!==null&&W!==null&&(I===W&&s===I||s>=I&&s<W),y=d[s]!==void 0?d[s]:null,u=d[0]!==void 0?null:(h=L==null?void 0:L[s])!=null?h:null;return{char:y,placeholderChar:u,isActive:j,hasFakeCaret:j&&y===null}}),isFocused:Y,isHovering:!i.disabled&&X}),[Y,X,m,W,I,i.disabled,d]),Fe=n.useMemo(()=>v?v(te):n.createElement(Le.Provider,{value:te},q),[q,te,v]);return n.createElement(n.Fragment,null,p!==null&&n.createElement("noscript",null,n.createElement("style",null,p)),n.createElement("div",{ref:Q,"data-input-otp-container":!0,style:x,className:S},Fe,n.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ce)))});Ae.displayName="Input";function re(e,r){try{e.insertRule(r)}catch{console.error("input-otp could not insert CSS rule:",r)}}var ut=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Be=n.forwardRef(({className:e,containerClassName:r,...l},c)=>t.jsx(Ae,{ref:c,containerClassName:pe("flex items-center gap-2 has-[:disabled]:opacity-50",r),className:pe("disabled:cursor-not-allowed",e),...l}));Be.displayName="InputOTP";const Se=n.forwardRef(({className:e,...r},l)=>t.jsx("div",{ref:l,className:pe("flex items-center",e),...r}));Se.displayName="InputOTPGroup";const V=n.forwardRef(({index:e,className:r,...l},c)=>{const C=n.useContext(Le),{char:m,hasFakeCaret:k,isActive:E}=C.slots[e];return t.jsxs("div",{ref:c,className:pe("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",E&&"z-10 ring-2 ring-ring ring-offset-background",r),...l,children:[m,k&&t.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});V.displayName="InputOTPSlot";const ct=n.forwardRef(({...e},r)=>t.jsx("div",{ref:r,role:"separator",...e,children:t.jsx(Ze,{})}));ct.displayName="InputOTPSeparator";const yt=()=>{const{t:e}=Ue();Ve();const{toast:r}=$e(),[l,c]=n.useState(""),[C,m]=n.useState(""),[k,E]=n.useState(!1),[L,$]=n.useState(""),[z,A]=n.useState("user"),[f,S]=n.useState(!1),[p,v]=n.useState(null),[q,i]=n.useState(!1),[B,J]=n.useState(!1),[ne,ae]=n.useState(""),[Z,se]=n.useState(""),[K,d]=n.useState(""),[N,M]=n.useState(""),[b,o]=n.useState(!1),[Q,P]=n.useState(null),[F,X]=n.useState(null),[fe,Y]=n.useState(!1),[le,I]=n.useState(""),[ee,W]=n.useState(!1),_="https://script.google.com/macros/s/AKfycbyAI4e65xy0O1knl_122NMmiTH7ZE58O1fL4q2Jlg4qFCEgPVzGTC4SE8IThacw4Ceu/exec",T=()=>{v(null),P(null),X(null),i(!0)},ie=()=>{i(!1),J(!0)},oe=async x=>{x.preventDefault(),S(!0),v(null),setTimeout(()=>{S(!1),ne==="VALID_CODE"?(r({title:e("auth.invite.codeValidTitle"),description:e("auth.invite.codeValidDescription")}),i(!1)):(v(e("auth.invite.codeInvalidError")),r({title:e("auth.invite.codeInvalidTitle"),description:e("auth.invite.codeInvalidError"),variant:"destructive"}))},1e3)},ue=async x=>{if(x.preventDefault(),o(!0),P(null),X(null),!Z||!K){P(e("auth.invite.requestFormErrorRequiredFields")),o(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(K)){P(e("auth.invite.requestFormErrorInvalidEmail")),o(!1);return}try{await fetch(_,{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"text/plain"},redirect:"follow",body:JSON.stringify({name:Z,email:K,reason:N})}),X(e("auth.invite.requestSuccessMessage")),r({title:e("auth.invite.requestSuccessTitle"),description:e("auth.invite.requestSuccessMessage")}),se(""),d(""),M(""),J(!1)}catch(ce){console.error("Error submitting invite request:",ce);const te=ce.message||e("auth.invite.requestGenericError");P(te),r({title:e("auth.invite.requestFailedTitle"),description:te,variant:"destructive"})}finally{o(!1)}};return t.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[" ",t.jsxs("div",{className:"flex items-center w-full",children:[t.jsx(Ee,{to:"/",className:"text-gray-500 hover:text-primary",children:t.jsx(Ne,{variant:"outline",size:"icon",className:"rounded-full",children:t.jsx(Je,{className:"h-6 w-6"})})}),t.jsxs("div",{className:"flex-grow flex justify-center",children:[t.jsx("img",{src:"59e843a5-7fb2-4c2d-adac-cd2ce6413ee1.png",alt:"Logo",className:"h-12 w-auto"})," "]}),t.jsx("div",{className:"w-10"})," "]}),t.jsxs("div",{className:"text-center",children:[" ",t.jsx("h2",{className:"text-3xl font-extrabold text-foreground-900",children:e("auth.signUp.title")}),t.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[e("auth.signUp.or")," ",t.jsx(Ee,{to:"/sign-in",className:"font-medium text-primary hover:text-primary/80",children:e("auth.signUp.signInLink")})]})]}),t.jsxs(ze,{className:"p-6",children:[p&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[t.jsx(ye,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-700",children:p})]}),t.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:e("auth.signUp.waitlistNotice1")}),t.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:e("auth.signUp.waitlistNotice2")}),t.jsx(be,{type:"button",fullWidth:!0,onClick:T,leftIcon:t.jsx(Ke,{className:"h-4 w-4"}),children:e("auth.signUp.joinButton")}),t.jsx(Pe,{open:q,onOpenChange:i,children:t.jsxs(Re,{className:"sm:max-w-md",children:[t.jsxs(ke,{children:[t.jsx(qe,{children:e("auth.invite.codeModalTitle")}),t.jsx(je,{children:e("auth.invite.codeModalDescription2")}),t.jsx(je,{children:e("auth.invite.codeModalDescription")})]}),t.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[p&&t.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[t.jsx(ye,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-700",children:p})]}),t.jsxs("div",{children:[t.jsx(me,{htmlFor:"inviteCode",children:e("auth.invite.codeLabel")}),t.jsxs(Be,{maxLength:6,value:ne,onChange:x=>ae(x),className:"mt-4 flex justify-center text-2xl",children:[t.jsxs(Se,{children:[t.jsx(V,{index:0}),t.jsx(V,{index:1}),t.jsx(V,{index:2})]}),t.jsx("div",{className:"mx-2",children:"-"})," ",t.jsxs(Se,{children:[t.jsx(V,{index:3}),t.jsx(V,{index:4}),t.jsx(V,{index:5})]})]})]}),t.jsx(be,{type:"submit",fullWidth:!0,loading:f,children:e("auth.invite.checkCodeButton")})]}),t.jsxs("div",{className:"mt-4 text-center text-sm",children:[e("auth.invite.noCodePrompt")," ",t.jsx(Ne,{variant:"link",className:"p-0 h-auto",onClick:ie,children:e("auth.invite.requestInviteLink")})]})]})}),t.jsx(Pe,{open:B,onOpenChange:J,children:t.jsxs(Re,{className:"sm:max-w-md",children:[t.jsxs(ke,{children:[t.jsx(qe,{children:e("auth.invite.requestModalTitle")}),t.jsx(je,{children:e("auth.invite.requestModalDescription")})]}),t.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[Q&&t.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[t.jsx(ye,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-red-700",children:Q})]}),F&&t.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md text-sm text-green-700",children:F}),t.jsxs("div",{children:[t.jsx(me,{htmlFor:"requestName",children:e("auth.invite.requestNameLabel")}),t.jsx(ge,{id:"requestName",type:"text",value:Z,onChange:x=>se(x.target.value),required:!0,className:"mt-1",placeholder:e("auth.invite.requestNamePlaceholder")})]}),t.jsxs("div",{children:[t.jsx(me,{htmlFor:"requestEmail",children:e("auth.invite.requestEmailLabel")}),t.jsx(ge,{id:"requestEmail",type:"email",value:K,onChange:x=>d(x.target.value),required:!0,className:"mt-1",placeholder:e("auth.invite.requestEmailPlaceholder")})]}),t.jsxs("div",{children:[t.jsx(me,{htmlFor:"requestReason",children:e("auth.invite.requestReasonLabel")}),t.jsx(ge,{id:"requestReason",type:"text",value:N,onChange:x=>M(x.target.value),className:"mt-1",placeholder:e("auth.invite.requestReasonPlaceholder")})]}),t.jsx(be,{type:"submit",fullWidth:!0,loading:b,children:e("auth.invite.sendRequestButton")})]})]})})]})]})})};export{yt as default};
