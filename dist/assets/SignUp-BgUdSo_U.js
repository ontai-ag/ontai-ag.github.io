import{c as W,u as z,f as J,b as K,r as s,j as e,L as E}from"./index-CtopovmE.js";import{I as d}from"./input-BqRHJ20T.js";import{L as u}from"./label-Dfi70rOt.js";import{B as L}from"./button-BRSmxxCB.js";import{C as p}from"./Button-CKgnsEFE.js";import{C as Z}from"./Card-NrUR_FB_.js";import{D as k,a as M,b as T,c as P,d as g}from"./dialog-CE9EwccX.js";import{A as $}from"./arrow-left-CRy8rS3V.js";import{C as f}from"./circle-alert-C6OOmd-R.js";import"./index-B1C6HH2G.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ce=()=>{const{t}=z();J();const{toast:r}=K(),[X,Y]=s.useState(""),[ee,te]=s.useState(""),[se,ae]=s.useState(!1),[ie,re]=s.useState(""),[ne,le]=s.useState("user"),[D,j]=s.useState(!1),[n,m]=s.useState(null),[O,l]=s.useState(!1),[U,h]=s.useState(!1),[N,F]=s.useState(""),[x,q]=s.useState(""),[o,y]=s.useState(""),[S,b]=s.useState(""),[A,c]=s.useState(!1),[C,i]=s.useState(null),[w,v]=s.useState(null),[oe,ce]=s.useState(!1),[de,ue]=s.useState(""),[me,he]=s.useState(!1),B="https://script.google.com/macros/s/AKfycbyAI4e65xy0O1knl_122NMmiTH7ZE58O1fL4q2Jlg4qFCEgPVzGTC4SE8IThacw4Ceu/exec",V=()=>{m(null),i(null),v(null),l(!0)},_=()=>{l(!1),h(!0)},G=async a=>{a.preventDefault(),j(!0),m(null),setTimeout(()=>{j(!1),N==="VALID_CODE"?(r({title:t("auth.invite.codeValidTitle"),description:t("auth.invite.codeValidDescription")}),l(!1)):(m(t("auth.invite.codeInvalidError")),r({title:t("auth.invite.codeInvalidTitle"),description:t("auth.invite.codeInvalidError"),variant:"destructive"}))},1e3)},H=async a=>{if(a.preventDefault(),c(!0),i(null),v(null),!x||!o){i(t("auth.invite.requestFormErrorRequiredFields")),c(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){i(t("auth.invite.requestFormErrorInvalidEmail")),c(!1);return}try{await fetch(B,{method:"POST",mode:"no-cors",cache:"no-cache",headers:{"Content-Type":"text/plain"},redirect:"follow",body:JSON.stringify({name:x,email:o,reason:S})}),v(t("auth.invite.requestSuccessMessage")),r({title:t("auth.invite.requestSuccessTitle"),description:t("auth.invite.requestSuccessMessage")}),q(""),y(""),b(""),h(!1)}catch(R){console.error("Error submitting invite request:",R);const I=R.message||t("auth.invite.requestGenericError");i(I),r({title:t("auth.invite.requestFailedTitle"),description:I,variant:"destructive"})}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[" ",e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx(E,{to:"/",className:"text-gray-500 hover:text-primary",children:e.jsx(L,{variant:"outline",size:"icon",className:"rounded-full",children:e.jsx($,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"flex-grow flex justify-center",children:[e.jsx("img",{src:"59e843a5-7fb2-4c2d-adac-cd2ce6413ee1.png",alt:"Logo",className:"h-12 w-auto"})," "]}),e.jsx("div",{className:"w-10"})," "]}),e.jsxs("div",{className:"text-center",children:[" ",e.jsx("h2",{className:"text-3xl font-extrabold text-foreground-900",children:t("auth.signUp.title")}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[t("auth.signUp.or")," ",e.jsx(E,{to:"/sign-in",className:"font-medium text-primary hover:text-primary/80",children:t("auth.signUp.signInLink")})]})]}),e.jsxs(Z,{className:"p-6",children:[n&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[e.jsx(f,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:n})]}),e.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:t("auth.signUp.waitlistNotice1")}),e.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:t("auth.signUp.waitlistNotice2")}),e.jsx(p,{type:"button",fullWidth:!0,onClick:V,leftIcon:e.jsx(Q,{className:"h-4 w-4"}),children:t("auth.signUp.joinButton")}),e.jsx(k,{open:O,onOpenChange:l,children:e.jsxs(M,{className:"sm:max-w-md",children:[e.jsxs(T,{children:[e.jsx(P,{children:t("auth.invite.codeModalTitle")}),e.jsx(g,{children:t("auth.invite.codeModalDescription2")}),e.jsx(g,{children:t("auth.invite.codeModalDescription")})]}),e.jsxs("form",{onSubmit:G,className:"space-y-4",children:[n&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[e.jsx(f,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:n})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"inviteCode",children:t("auth.invite.codeLabel")}),e.jsx(d,{id:"inviteCode",type:"text",value:N,onChange:a=>F(a.target.value),required:!0,className:"mt-1",placeholder:t("auth.invite.codePlaceholder")})]}),e.jsx(p,{type:"submit",fullWidth:!0,loading:D,children:t("auth.invite.checkCodeButton")})]}),e.jsxs("div",{className:"mt-4 text-center text-sm",children:[t("auth.invite.noCodePrompt")," ",e.jsx(L,{variant:"link",className:"p-0 h-auto",onClick:_,children:t("auth.invite.requestInviteLink")})]})]})}),e.jsx(k,{open:U,onOpenChange:h,children:e.jsxs(M,{className:"sm:max-w-md",children:[e.jsxs(T,{children:[e.jsx(P,{children:t("auth.invite.requestModalTitle")}),e.jsx(g,{children:t("auth.invite.requestModalDescription")})]}),e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[C&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[e.jsx(f,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:C})]}),w&&e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md text-sm text-green-700",children:w}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"requestName",children:t("auth.invite.requestNameLabel")}),e.jsx(d,{id:"requestName",type:"text",value:x,onChange:a=>q(a.target.value),required:!0,className:"mt-1",placeholder:t("auth.invite.requestNamePlaceholder")})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"requestEmail",children:t("auth.invite.requestEmailLabel")}),e.jsx(d,{id:"requestEmail",type:"email",value:o,onChange:a=>y(a.target.value),required:!0,className:"mt-1",placeholder:t("auth.invite.requestEmailPlaceholder")})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"requestReason",children:t("auth.invite.requestReasonLabel")}),e.jsx(d,{id:"requestReason",type:"text",value:S,onChange:a=>b(a.target.value),className:"mt-1",placeholder:t("auth.invite.requestReasonPlaceholder")})]}),e.jsx(p,{type:"submit",fullWidth:!0,loading:A,children:t("auth.invite.sendRequestButton")})]})]})})]})]})})};export{Ce as default};
