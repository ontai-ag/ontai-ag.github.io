import{c as L,u as k,f as P,d as S,b as C,a as A,r,j as e,L as c,o as T}from"./index-DwoP-YaE.js";import{I as g}from"./input-Bwnqc0CH.js";import{L as f}from"./label-D8bUL8F7.js";import{B as j}from"./button-CIhx-551.js";import{C as M}from"./Button-DGzhNokY.js";import{C as B}from"./Card-C5ntAxIF.js";import{A as D}from"./arrow-left-D52uuBwo.js";import{C as W}from"./circle-alert-C9ZJ9r1s.js";import{E as q}from"./eye-Ba7TtMMB.js";import{M as z}from"./mail-a3dzCPEV.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=L("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Y=()=>{const{t:s}=k(),i=P();S();const{toast:o}=C(),{isAuthenticated:d,getDashboardPath:n}=A(),[m,v]=r.useState(""),[u,y]=r.useState(""),[l,N]=r.useState(!1),[w,h]=r.useState(!1),[x,p]=r.useState(null),I=()=>N(!l);r.useEffect(()=>{if(d){const t=n();console.log("User authenticated, redirecting to:",t);const a=setTimeout(()=>{i(t,{replace:!0})},100);return()=>clearTimeout(a)}},[d,n,i]);const b=async t=>{t.preventDefault(),h(!0),p(null);try{const a=await T.signInWithPassword(m,u);o({title:s("auth.signIn.successTitle"),description:s("auth.signIn.successDescription")});const E=n();i(E,{replace:!0})}catch(a){console.error("Error signing in:",a),p(a.message||s("auth.signIn.genericError")),o({title:s("auth.signIn.failedTitle"),description:a.message||s("auth.signIn.failedDescription"),variant:"destructive"})}finally{h(!1)}};return e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[" ",e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx(c,{to:"/",className:"text-gray-500 hover:text-primary",children:e.jsx(j,{variant:"outline",size:"icon",className:"rounded-full",children:e.jsx(D,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"flex-grow flex justify-center",children:[e.jsx("img",{src:"59e843a5-7fb2-4c2d-adac-cd2ce6413ee1.png",alt:"Logo",className:"h-12 w-auto"})," "]}),e.jsx("div",{className:"w-10"})," "]}),e.jsxs("div",{className:"text-center",children:[" ",e.jsx("h2",{className:"text-3xl font-extrabold text-foreground-900",children:s("auth.signIn.title")}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[s("auth.signIn.or")," ",e.jsx(c,{to:"/sign-up",className:"font-medium text-primary hover:text-primary/80",children:s("auth.signIn.createAccountLink")})]})]}),e.jsxs(B,{className:"p-6",children:[x&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-start gap-2",children:[e.jsx(W,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:x})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"email",children:s("auth.signIn.emailLabel")}),e.jsx(g,{id:"email",type:"email",value:m,onChange:t=>v(t.target.value),required:!0,className:"mt-1",placeholder:s("auth.signIn.emailPlaceholder")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(f,{htmlFor:"password",children:s("auth.signIn.passwordLabel")}),e.jsx(c,{to:"/",className:"text-sm text-primary hover:underline",children:s("auth.signIn.forgotPasswordLink")})]}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(g,{id:"password",type:l?"text":"password",value:u,onChange:t=>y(t.target.value),required:!0,className:"pr-10"}),e.jsx(j,{type:"button",variant:"ghost",size:"icon",className:"absolute inset-y-0 right-0 flex items-center justify-center h-full w-10 text-gray-500 hover:text-primary",onClick:I,children:l?e.jsx(F,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"})})]})]}),e.jsx(M,{type:"submit",fullWidth:!0,loading:w,leftIcon:e.jsx(z,{className:"h-4 w-4"}),children:s("auth.signIn.signInWithEmailButton")})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"relative"}),e.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3"})]})]})]})})};export{Y as default};
