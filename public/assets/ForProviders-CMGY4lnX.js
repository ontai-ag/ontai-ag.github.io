import{u as y,b as N,r as F,j as e}from"./index-DJIYZ9ez.js";import{o as T,s as m,i as f,n as M,l as C,f as U,g as q,F as t,a,c as l,e as c,t as L}from"./form-BhG10zMi.js";import{H as O,F as w}from"./Footer-Bqylm3V6.js";import{B as E}from"./button-BQEhOtkV.js";import{I as p}from"./input-B7sDcq_Q.js";import{T as R}from"./textarea-VhhG9ejO.js";import{L as d}from"./label--2lUNsiq.js";import{S as j,a as g,b as P,c as S,d as i}from"./select-CmMy6Og0.js";import"./index-D1FBiDc7.js";import"./index-IuGORk07.js";import"./Combination-B1OjXE4j.js";import"./index-B-LzqYNY.js";import"./check-D1dpKIq3.js";const k=T({name:m().min(1,{message:"forProviders.validation.nameRequired"}),description:m().min(10,{message:"forProviders.validation.descriptionMinLength"}),category:f(["Customer Support","Sales","Marketing","Developer Tools","Other"],{required_error:"forProviders.validation.categoryRequired"}),price:M().positive({message:"forProviders.validation.pricePositive"}),priceModel:f(["Per request","Per hour","Subscription"],{required_error:"forProviders.validation.priceModelRequired"}),imageUrl:m().url({message:"forProviders.validation.imageUrlInvalid"}).optional().or(C("")),provider:m().min(1,{message:"forProviders.validation.providerRequired"})}),Y=()=>{const{t:r}=y(),{toast:h}=N(),[x,u]=F.useState(!1),o=U({resolver:L(k),defaultValues:{name:"",description:"",category:"Other",price:0,priceModel:"Per request",imageUrl:"",provider:""}}),b=async s=>{u(!0);try{const n=await fetch("https://script.google.com/macros/s/AKfycby8jr-hHKKsY5lwKPmWz6UgRK7e7ur0oJxZ3dOHwDOOBjGufpmHBWvSCNaBObZTZ9eO/exec",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}),v=await n.json();n.ok&&v.result==="success"?(h({title:r("forProviders.submissionSuccessTitle"),description:r("forProviders.submissionSuccessDesc")}),o.reset()):h({title:r("forProviders.submissionErrorTitle"),description:v.message||r("forProviders.submissionErrorDesc"),variant:"destructive"})}catch(n){console.error("Submission Error:",n),h({title:r("forProviders.submissionNetworkErrorTitle"),description:r("forProviders.submissionNetworkErrorDesc"),variant:"destructive"})}finally{u(!1)}};return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(O,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 md:px-6 py-12 md:py-20",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-8",children:r("forProviders.title")}),e.jsx("p",{className:"text-center text-gray-600 mb-10",children:r("forProviders.description")}),e.jsxs(q,{...o,children:[" ",e.jsxs("form",{onSubmit:o.handleSubmit(b),className:"space-y-6",children:[" ",e.jsx(t,{control:o.control,name:"name",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"name",children:r("forProviders.agentNameLabel")}),e.jsx(l,{children:e.jsx(p,{id:"name",placeholder:r("forProviders.agentNamePlaceholder"),...s,className:o.formState.errors.name?"border-red-500":""})}),o.formState.errors.name&&e.jsx(c,{children:r(o.formState.errors.name.message)})," "]})}),e.jsx(t,{control:o.control,name:"description",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"description",children:r("forProviders.descriptionLabel")}),e.jsx(l,{children:e.jsx(R,{id:"description",placeholder:r("forProviders.descriptionPlaceholder"),...s,className:o.formState.errors.description?"border-red-500":""})}),o.formState.errors.description&&e.jsx(c,{children:r(o.formState.errors.description.message)})," "]})}),e.jsx(t,{control:o.control,name:"category",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"category",children:r("forProviders.categoryLabel")}),e.jsxs(j,{onValueChange:s.onChange,defaultValue:s.value,name:s.name,children:[e.jsx(l,{children:e.jsx(g,{id:"category",className:o.formState.errors.category?"border-red-500":"",children:e.jsx(P,{placeholder:r("forProviders.categoryPlaceholder")})})}),e.jsxs(S,{children:[e.jsx(i,{value:"Customer Support",children:r("categories.customerSupport")}),e.jsx(i,{value:"Sales",children:r("categories.sales")}),e.jsx(i,{value:"Marketing",children:r("categories.marketing")}),e.jsx(i,{value:"Developer Tools",children:r("categories.developerTools")}),e.jsx(i,{value:"Other",children:r("categories.other")})]})]}),o.formState.errors.category&&e.jsx(c,{children:r(o.formState.errors.category.message)})," "]})}),e.jsx(t,{control:o.control,name:"price",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"price",children:r("forProviders.priceLabel")}),e.jsx(l,{children:e.jsx(p,{id:"price",type:"number",step:"0.01",placeholder:r("forProviders.pricePlaceholder"),...s,onChange:n=>s.onChange(parseFloat(n.target.value)||0),className:o.formState.errors.price?"border-red-500":""})}),o.formState.errors.price&&e.jsx(c,{children:r(o.formState.errors.price.message)})," "]})}),e.jsx(t,{control:o.control,name:"priceModel",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"priceModel",children:r("forProviders.priceModelLabel")}),e.jsxs(j,{onValueChange:s.onChange,defaultValue:s.value,name:s.name,children:[e.jsx(l,{children:e.jsx(g,{id:"priceModel",className:o.formState.errors.priceModel?"border-red-500":"",children:e.jsx(P,{placeholder:r("forProviders.priceModelPlaceholder")})})}),e.jsxs(S,{children:[e.jsx(i,{value:"Per request",children:r("priceModels.perRequest")}),e.jsx(i,{value:"Per hour",children:r("priceModels.perHour")}),e.jsx(i,{value:"Subscription",children:r("priceModels.subscription")})]})]}),o.formState.errors.priceModel&&e.jsx(c,{children:r(o.formState.errors.priceModel.message)})," "]})}),e.jsx(t,{control:o.control,name:"imageUrl",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"imageUrl",children:r("forProviders.imageUrlLabel")}),e.jsx(l,{children:e.jsx(p,{id:"imageUrl",placeholder:r("forProviders.imageUrlPlaceholder"),...s,className:o.formState.errors.imageUrl?"border-red-500":""})}),o.formState.errors.imageUrl&&e.jsx(c,{children:r(o.formState.errors.imageUrl.message)})," "]})}),e.jsx(t,{control:o.control,name:"provider",render:({field:s})=>e.jsxs(a,{children:[e.jsx(d,{htmlFor:"provider",children:r("forProviders.providerNameLabel")}),e.jsx(l,{children:e.jsx(p,{id:"provider",placeholder:r("forProviders.providerNamePlaceholder"),...s,className:o.formState.errors.provider?"border-red-500":""})}),o.formState.errors.provider&&e.jsx(c,{children:r(o.formState.errors.provider.message)})," "]})}),e.jsx(E,{type:"submit",disabled:x,className:"w-full",children:r(x?"forProviders.submitting":"forProviders.submitButton")})]})]})," "]})}),e.jsx(w,{})]})};export{Y as default};
